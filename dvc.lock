schema: '2.0'
stages:
  jobs_actions:
    cmd: python -m src.data.jobs_actions sqlite+pysqlite:///data/raw/job-server.db
      data/interim/jobs.csv data/interim/actions.csv
    deps:
    - path: data/raw/job-server.db
      md5: bd1f0ee7eeabd88019e8e8f89f9b5858
      size: 259919872
    - path: src/data/jobs_actions.py
      md5: f01aa19a97ed1b5f9c55c569e9966249
      size: 4471
    outs:
    - path: data/interim/actions.csv
      md5: 655a172335c59a07bbe620df9cf9af8d
      size: 2923107
    - path: data/interim/jobs.csv
      md5: 2580dce056254439d81f526105018b57
      size: 6645142
  jobs:
    cmd: python -m src.data.jobs data/interim/jobs.csv data/processed/jobs.feather
    deps:
    - path: data/interim/jobs.csv
      md5: 2580dce056254439d81f526105018b57
      size: 6645142
    - path: src/data/jobs.py
      md5: a0c4b3ee81a92050af6be3d728e7f250
      size: 290
    outs:
    - path: data/processed/jobs.feather
      md5: 85b3aa5139482304b0f315b4d5e51d9b
      size: 2948690
  actions:
    cmd: python -m src.data.actions data/interim/actions.csv data/processed/actions.feather
    deps:
    - path: data/interim/actions.csv
      md5: 655a172335c59a07bbe620df9cf9af8d
      size: 2923107
    - path: src/data/actions.py
      md5: 6b7323605fd5c1071b4510583b9533b1
      size: 314
    outs:
    - path: data/processed/actions.feather
      md5: 263c9a6198273f79fc34d98289f7e925
      size: 1176578
  nbconvert:
    cmd: PYTHONPATH=:/Users/iaindillingham/Code/iaindillingham/opensafely-introspection
      jupyter nbconvert --execute --to=html --output-dir=reports notebooks/exploration.ipynb
    deps:
    - path: data/processed/actions.feather
      md5: 263c9a6198273f79fc34d98289f7e925
      size: 1176578
    - path: data/processed/jobs.feather
      md5: 85b3aa5139482304b0f315b4d5e51d9b
      size: 2948690
    - path: notebooks/exploration.ipynb
      md5: 9014ba272bb581976d2cb864455791ef
      size: 6485
