schema: '2.0'
stages:
  extract_jobs:
    cmd: python -m src.data.extract_jobs sqlite+pysqlite:///data/raw/job-server.db
      data/interim/jobs.csv
    deps:
    - path: data/raw/job-server.db
      md5: bd1f0ee7eeabd88019e8e8f89f9b5858
      size: 259919872
    - path: src/data/extract_jobs.py
      md5: df9a6a2fb9377d0338a69c907dffed47
      size: 3322
    outs:
    - path: data/interim/jobs.csv
      md5: b2cb1ec364a45e4c0296c563f22164f4
      size: 8214784
  transform_jobs:
    cmd: python -m src.data.transform_jobs data/interim/jobs.csv data/processed/jobs.feather
    deps:
    - path: data/interim/jobs.csv
      md5: b2cb1ec364a45e4c0296c563f22164f4
      size: 8214784
    - path: src/data/transform_jobs.py
      md5: 783680f84a9b32652f0683c4f13332c5
      size: 596
    outs:
    - path: data/processed/jobs.feather
      md5: 4238c1a1b6bfee340bbded0bdf0c51fd
      size: 2931650
  nbconvert:
    cmd: just run-jupyter nbconvert --execute --to=html --output-dir=reports notebooks/exploration.ipynb
    deps:
    - path: data/processed/jobs.feather
      md5: 4238c1a1b6bfee340bbded0bdf0c51fd
      size: 2931650
    - path: notebooks/exploration.ipynb
      md5: 2acaa58349c0a258034dc953bb6fd092
      size: 5309
